import{_ as A}from"./CvFygFLo.js";import{_ as H}from"./53OSMyIF.js";import{_ as L}from"./B0FICvjg.js";import{d as S,r as u,N as U,O as $,w as B,b as m,e as r,f as e,k as d,t as p,j as O,g as _,q as h,h as w,F as y,i as P,z as V,l as R,_ as F,x as I}from"./kSsZQJMu.js";import{_ as q}from"./B_fq1K6F.js";import{_ as K}from"./DyMHh6QV.js";import{P as M}from"./Dhub1vTp.js";import"./CC2CiqX2.js";const G={class:"bg-white"},J={class:"max-row py-8"},Q={class:"relative h-[180px] sm:h-[300px] overflow-hidden"},T={class:"relative z-10 container mx-auto px-4 sm:px-6 h-full flex flex-col justify-center items-center sm:items-start text-center sm:text-left",style:{"text-shadow":"0px 2px 4px rgba(34,34,34,0.6)"}},W={class:"text-2xl sm:text-5xl font-bold text-white mb-2 sm:mb-4"},X={class:"container mx-auto px-4 sm:px-6 mt-12"},Y={class:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-8"},Z={class:"flex flex-wrap gap-4"},ee={class:"flex items-center gap-2"},te={class:"relative min-h-[200px]"},se={key:0,class:"absolute inset-0 bg-white/80 z-10 flex flex-col items-center justify-center space-y-4"},oe={key:1,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 mb-12"},le={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 mb-12"},ae={class:"aspect-square overflow-hidden rounded-t-lg"},re=["src","alt"],ce={class:"p-3 sm:p-4"},ne=["title"],ie={class:"text-xs sm:text-sm text-[#AEAEAE] mb-1 sm:mb-2"},me={class:"flex justify-between items-center"},de={class:"text-sm sm:text-base font-medium"},ue={class:"text-center my-12 flex flex-col items-center justify-center"},pe=S({__name:"[...collection]",setup(xe){const f=["Name Alphabetic, a-z","Name Alphabetic, z-a","Price Low to High","Price High to Low","Date, Old to New","Date, New to Old"],b={"Name Alphabetic, a-z":{value:"erpProduct.ProductEnglishName",sort:"asc"},"Name Alphabetic, z-a":{value:"erpProduct.ProductEnglishName",sort:"desc"},"Price Low to High":{value:"erpProduct.customPrice",sort:"asc"},"Price High to Low":{value:"erpProduct.customPrice",sort:"desc"},"Date, Old to New":{value:"createDate",sort:"asc"},"Date, New to Old":{value:"createDate",sort:"desc"}},l=u(f[0]),c=u(""),a=u(!1),n=u([]),{getUserProductRollPage:k}=M(),N=U();$();const i=N.params.collection[0],j=[{label:"Home",to:"/",title:"Home"},{label:decodeURIComponent(i),to:"/collections/"+i,title:i}],x=o=>{c.value=c.value===o?"":o,g()};B(l,()=>{g()});const g=async()=>{a.value=!0;try{const o={tag:i,pageNum:1,pageSize:12,fields:"id,erpProduct.productEnglishName,erpProduct.customPrice,erpProduct.mainPic"};l.value&&(o.sortKey=b[l.value].value,o.sortOrder=b[l.value].sort);const t=await k(o);n.value=t.result.list}catch(o){console.error("加载产品失败",o)}finally{a.value=!1}};return g(),(o,t)=>{const C=A,v=H,D=L,E=F;return r(),m("div",G,[e("div",J,[d(C,{divider:">",links:j,class:"mb-6 text-blackcolor custom-breadcrumb text-lg sm:text-2xl",ui:{base:"hover:underline",li:"text-xs sm:text-sm font-normal text-gray-400",active:"text-customblack dark:text-primary-400 no-underline hover:no-underline",divider:{base:"px-2 text-text-gray-400 no-underline"}}}),e("div",Q,[t[5]||(t[5]=e("div",{class:"absolute inset-0"},[e("img",{src:q,class:"w-full h-full object-cover object-center sm:object-top",alt:"hero background"})],-1)),e("div",T,[e("h1",W,p(decodeURIComponent(O(i))),1),t[4]||(t[4]=e("p",{class:"text-sm sm:text-xl text-white max-w-md sm:max-w-none"}," Discover our best picks for this collection ",-1))])]),e("div",X,[_(e("div",Y,[e("div",Z,[d(v,{checked:c.value==="Hot Selling",onChange:t[0]||(t[0]=s=>x("Hot Selling")),label:"Hot Selling",class:"text-sm"},null,8,["checked"]),d(v,{checked:c.value==="New Arrival",onChange:t[1]||(t[1]=s=>x("New Arrival")),label:"New Arrival",class:"text-sm"},null,8,["checked"]),d(v,{checked:c.value==="Discount",onChange:t[2]||(t[2]=s=>x("Discount")),label:"Discount",class:"text-sm"},null,8,["checked"])]),e("div",ee,[t[6]||(t[6]=e("span",{class:"text-sm"},"Sort",-1)),d(D,{size:"xs",modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=s=>l.value=s),options:f},null,8,["modelValue"])])],512),[[h,n.value.length!=0]]),e("div",te,[a.value?(r(),m("div",se,t[7]||(t[7]=[e("svg",{class:"animate-spin h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),e("div",{class:"text-gray-500 text-sm"},"Loading products...",-1)]))):w("",!0),a.value?(r(),m("div",oe,[(r(),m(y,null,P(4,s=>e("div",{key:s,class:"bg-white rounded-lg shadow p-4"},t[8]||(t[8]=[e("div",{class:"h-48 bg-gray-200 rounded w-full mb-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-3/4 mb-2 animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"},null,-1)]))),64))])):w("",!0),_(e("div",le,[(r(!0),m(y,null,P(n.value,(s,z)=>(r(),V(E,{to:`/product/${s.id}/${s.erpProduct.productEnglishName}`,key:z,class:"bg-white rounded-lg cursor-pointer group"},{default:R(()=>[e("div",ae,[e("img",{src:s.erpProduct.mainPic??"/images/empty.jpg",alt:s.erpProduct.productEnglishName,class:"w-full h-full object-cover object-center transition-transform duration-300 group-hover:scale-105"},null,8,re)]),e("div",ce,[e("h3",{class:"text-xs sm:text-sm mb-1 sm:mb-2 text-customblack mt-2 sm:mt-3 line-clamp-2 font-normal",title:s.erpProduct.productEnglishName},p(s.erpProduct.productEnglishName),9,ne),e("p",ie,p(s.size),1),e("div",me,[e("span",de," $"+p(s.erpProduct.customPrice),1)])])]),_:2},1032,["to"]))),128))],512),[[h,n.value.length>0&&!a.value]]),_(e("div",ue,t[9]||(t[9]=[e("img",{src:K,alt:"Empty",class:"w-24 h-24 sm:w-32 sm:h-32"},null,-1),e("p",{class:"text-gray-400 text-sm mt-4"},"Not Found Products",-1)]),512),[[h,n.value.length===0&&!a.value]])])])])])}}}),Pe=I(pe,[["__scopeId","data-v-1738fcec"]]);export{Pe as default};
