import{_ as ot}from"./CvFygFLo.js";import{_ as at}from"./GXEHM_6H.js";import{x as it,a0 as nt,u as dt,r as y,c as V,bi as ct,o as ut,w as De,a4 as pt,b as m,e as v,f as e,k as b,h as k,g as D,F as C,i as I,A as vt,n as w,y as mt,l as S,j as B,z as je,t as _,p as U,a2 as Ee,m as Te,q as O,I as ft,s as P,T as ht}from"./kSsZQJMu.js";import{_ as yt}from"./DLmCINPn.js";import{_ as gt}from"./Ckbd6zKV.js";import{d as xt,S as $e,_ as _t}from"./DarYrJW9.js";import{N as bt,_ as wt}from"./ugCKZAWR.js";/* empty css        */import{c as kt,u as Pt}from"./qxOEfmD5.js";import{P as Lt}from"./Dhub1vTp.js";import{u as Ct}from"./DeMrI2nt.js";import{S as It}from"./Ce_dQgFj.js";import{T as St}from"./BdhjvTua.js";import"./Bn4OmBq9.js";import"./BOho523-.js";import"./OwN-t2v0.js";import"./DfdN0tzT.js";import"./bdVkYHui.js";import"./KIWZttzz.js";const Nt={class:"bg-white w-full pt-10"},Dt={key:0,class:"fixed inset-0 bg-white bg-opacity-80 z-50 flex items-center justify-center"},jt={key:1,class:"max-row"},Et={class:"mb-6"},Tt={class:"flex gap-2 mb-6"},$t={class:"grid grid-cols-1 md:grid-cols-12 gap-8"},Ft={class:"md:col-span-5"},Bt={class:"sticky top-[124px]"},Ut={class:"flex gap-2"},At={class:"md:col-span-7"},zt={class:"grid grid-cols-6 gap-4 mt-4"},Rt={key:2,class:"max-row"},Mt={class:"grid grid-cols-1 md:grid-cols-12 gap-8"},Vt={class:"md:col-span-5"},Ot={class:"sticky top-[124px] overflow-hidden"},qt={key:0,class:"w-full aspect-square overflow-hidden mb-4 relative"},Ht={class:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow text-primary"},Jt={class:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow text-primary"},Gt={class:"flex items-center justify-center h-full w-full"},Qt={class:"max-h-full max-w-full"},Kt=["src"],Wt={class:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow text-primary"},Xt={class:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow text-primary"},Yt={class:"md:col-span-7"},Zt={class:"flex items-center justify-between"},es={class:"text-xl font-normal sm:text-lg md:text-lg lg:text-2xl mb-0"},ts={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 mb-4 mt-7"},ss={class:"text-xl sm:text-xl font-medium text-primary"},rs={key:0,class:"mt-12"},ls={class:"mb-4 border-b border-b-[#C8C8C8] pb-4"},os=["onClick"],as={class:"font-bold text-lg flex items-center mb-0"},is={class:"truncate-1-lines"},ns={class:"flex items-center"},ds={key:0,class:"mr-4 truncate-1-lines"},cs=["onClick"],us=["src"],ps={class:"truncate-2-lines text-center"},vs={key:1,class:"w-full flex flex-wrap max-h-[160px] overflow-y-auto"},ms=["onClick"],fs=["src"],hs={class:"truncate-1-lines text-center"},ys={key:2,class:"flex flex-col md:flex-row md:items-start gap-6 relative w-full"},gs={class:"flex-1 space-y-4"},xs={class:"text-base text-gray-800"},_s={class:"cursor-pointer block"},bs={class:"flex items-center"},ws={class:"flex items-center space-x-2 cursor-pointer"},ks=["onUpdate:modelValue","value","onChange"],Ps={class:"font-semibold text-sm"},Ls={class:"mt-4"},Cs={class:"flex items-center space-x-4 mt-2"},Is={class:"text-sm"},Ss=["onUpdate:modelValue","onChange"],Ns={class:"text-red-500 text-sm mt-2"},Ds={key:0,class:"flex items-center space-x-2 cursor-pointer mt-4"},js={class:"flex items-center space-x-2 cursor-pointer"},Es=["onUpdate:modelValue","onChange"],Ts=["src"],$s={class:"mb-4 border-b border-b-[#C8C8C8] pb-4"},Fs={class:"font-bold text-lg flex items-center mb-0"},Bs={class:"flex flex-col md:flex-row md:items-start gap-12 relative justify-between"},Us={class:"flex-1 space-y-4"},As={class:"font-semibold text-sm"},zs={class:"w-full md:w-40 shrink-0 self-center"},Rs=["src"],Ms={class:"border-b border-b-[#C8C8C8]"},Vs={class:"w-full mx-auto bg-white py-6 sm:py-8 rounded-md"},Os={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},qs={class:"flex items-center rounded px-2"},Hs={class:"border flex items-center bg-[#F8F8F8] rounded"},Js={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-6 sm:mt-8"},Gs={class:"flex items-center flex-wrap gap-2"},Qs={class:"text-base sm:text-lg font-bold text-primary"},Ks={class:"flex flex-col sm:flex-row gap-4 mt-6 sm:mt-8"},Ws={class:"bg-[#F8F8F8]"},Xs={class:"mx-auto mt-16"},Ys={class:"text-base font-normal bg-white"},Zs={class:"flex justify-start"},er={key:0,class:"w-auto"},tr={key:1,class:"w-auto"},sr={class:"mx-auto max-row p-6 rounded p-2"},rr=["innerHTML"],lr={class:"mx-auto max-row p-6 grid grid-cols-1 sm:grid-cols-4 lg:grid-cols-4 gap-y-6 gap-x-8 text-gray-800 bg-[#F8F8F8] py-16 rounded p-2"},or={class:"flex justify-between"},ar={class:"text-sm sm:text-base"},ir={key:0,class:"mt-12 pb-4"},nr={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-12"},dr=["onClick"],cr={class:"relative overflow-hidden"},ur=["src","alt"],pr={class:"mt-2"},vr={class:"text-base font-normal mb-2 line-clamp-2"},mr={class:"text-xl font-bold text-primary"},fr={class:"font-semibold text-base sm:text-lg text-gray-900"},hr={class:"flex flex-wrap items-center gap-3 sm:gap-4"},yr={class:"flex items-center border border-gray-300 rounded px-2 py-1"},gr={class:"mx-2 w-12 text-center"},xr={class:"text-base sm:text-lg font-medium text-gray-800"},_r={__name:"[...id]",async setup(br){var Ie,Se,Ne;let q,de;const{getProductById:ce,randomRecommendationProductByCatalogId:Fe,trialPriceCalculationBySpuV2:Be,erpTryToCreateSku:ue,getmapProductByProductSkuList:Ue}=Lt(),{createCart:Ae}=kt(),pe=nt(),Z=dt(),H=Z.options.history.state.back,ze=Pt(),ve=y(),$=V(()=>Oe.value),Re=()=>{ht(()=>{var r,t;(t=(r=ve.value)==null?void 0:r.swiper)==null||t.update()})},ee=y(null),te=y(!1),se=y(!1),Me=y({}),A=V(()=>pe.params.id[0]??"29201"),{data:Ve,pending:Oe,error:wr}=([q,de]=ct(()=>Ct("product-detail",()=>ce({id:A.value,needPropData:!0,excludeUserCustomProp:!0}))),q=await q,de(),q),J=y(!0),E=y(0),re=V(()=>E.value===0),le=V(()=>E.value===o.value.erpProduct.photoList.length-1);let me=[],T=[];const fe=y(""),j=y(""),o=y(((Ie=Ve.value)==null?void 0:Ie.result)??{});(Se=o.value.erpProduct)!=null&&Se.mainPic&&(j.value=o.value.erpProduct.mainPic);const z=y(((Ne=o.value)==null?void 0:Ne.erpProduct.customPrice)??{}),L=y(1),he=V(()=>L.value*z.value),R=y(1),oe=y(""),qe=r=>{ee.value=r},He=()=>{var r;if(ee.value){const t=ee.value;re.value=t.isBeginning,le.value=t.isEnd;const a=t.activeIndex,c=o.value.erpProduct.photoList;a<c.length?j.value=c[a].url:j.value=((r=c[c.length-1])==null?void 0:r.url)||o.value.erpProduct.mainPic}},Je=()=>{E.value>0&&E.value--},Ge=()=>{const r=o.value.erpProduct.photoList.length-1;E.value<r&&E.value++},ye=r=>{R.value=r},ge=()=>{L.value++},xe=()=>{L.value>1&&L.value--},Qe=async()=>{try{let r={catalogId:o.value.erpProduct.catalogId,size:5},t=await Fe(r);ae.value=t.result}catch(r){console.error(r)}},G=(r,t)=>{if(t.disabled)return;if(o.value.normalPropertyList.forEach((i,g)=>{g<r&&K(i.selectedproperty)&&(T=T.filter(n=>i.selectedproperty.skuList.includes(n))),r==0&&(T=t.skuList)}),T||(T=[]),o.value.normalPropertyList[r+1]&&t.skuList){let i=T.length>0?T.filter(d=>t.skuList.includes(d)):t.skuList||[],g=o.value.normalPropertyList[r+1],n=g.selectedproperty,s="-1";if(n&&(s=n.propertyDetailId),g.isneedinput)o.value.normalPropertyList[r+1].noneedinputlist.forEach(l=>{let p=l.skuList,x=p&&p.some(N=>i.includes(N));l.isactive=x,l.disabled=!x,s==l.propertyDetailId&&l.disabled&&(o.value.normalPropertyList[r+1].selectedproperty={})}),o.value.normalPropertyList[r+1].needinputlist.forEach(l=>{let p=l.skuList,x=p&&p.some(N=>i.includes(N));l.isactive=x,l.disabled=!x,s==l.propertyDetailId&&l.disabled&&(o.value.normalPropertyList[r+1].selectedproperty={})});else{let d=o.value.normalPropertyList[r+1].detailList,f=o.value.normalPropertyList[r+1].selectedproperty,l="-1";f&&(l=f.propertyDetailId),d.forEach(p=>{let x=p.skuList,N=x&&x.some(Y=>i.includes(Y));p.isactive=N,p.disabled=!N,l==p.propertyDetailId&&p.disabled&&(o.value.normalPropertyList[r+1].selectedproperty={})})}}o.value.normalPropertyList[r].selectedproperty=t;let a=[],c=!1,u,h=!0;if(o.value.normalPropertyList.forEach(i=>{K(i.selectedproperty)&&(h=!1),i.isneedinput&&i.chooseindex==2&&(i.needinputlist.filter(n=>n.isactive).forEach(n=>{a=n.inputvalue,c=a.some(s=>s==="")}),u=i)}),u)h&&!c&&et(a);else if(h){const i=o.value.normalPropertyList.map(s=>{var d;return(d=s.selectedproperty)==null?void 0:d.skuList}).filter(s=>Array.isArray(s)&&s.length>0);if(i.length===0)return;let n=i.reduce((s,d)=>s.filter(f=>d.includes(f)))[0];n&&(console.log("getskuprice"),Ke(n))}},Ke=async r=>{try{let u=(await Ue({skuList:[r]})).result[r];z.value=u.skuSpec.customPrice}catch{}},ae=y([]),We=()=>{te.value=!0},ie=()=>{se.value=!0},_e=()=>{te.value=!1},Q=()=>{se.value=!1},be=async()=>{try{if(!L.value||L.value<=0){P.error("Please enter quantity!");return}let r=!0,t=!1,a=[],c,u=[];if(o.value.normalPropertyList.forEach(n=>{var d,f;K(n.selectedproperty)&&(r=!1),n.isneedinput&&n.chooseindex==2&&(n.needinputlist.filter(p=>p.isactive).forEach(p=>{a=p.inputvalue,t=a.some(x=>x==="")}),c=n);let s=[{isSelect:!0,isMissing:!0,detailName:(d=n.selectedproperty)==null?void 0:d.detailName,propertyId:(f=n.selectedproperty)==null?void 0:f.propertyId}];u.push({detailList:s,specCode:n.specCode,propertyId:n.propertyId,propertyType:n.propertyType,propertyName:n.propertyName})}),t){P.error("No dimensions entered!");return}if(!r){P.error("Please select properties!");return}let h;if(a.length>0){let n=u.find(p=>p.propertyId===c.propertyId);n&&(n.detailList=[{isSelect:!0,isMissing:!0,detailName:a.join("*"),propertyId:c.propertyId}]);let s=o.value.erpProduct.variationList;const d=o.value.normalPropertyList.find(p=>p.propertyNameShop==="Shape");let f="";d&&d.selectedproperty&&(f=d.selectedproperty.detailName);let l={productId:A.value,productStyle:o.value.erpProduct.productStyle,propertyList:u,shape:f,variationList:s||[]};for(let p=0;p<a.length;p++)l[`edge${p+1}`]=a[p]||0;try{ie(),h=(await ue(l)).result.skuSpec.sku}catch(p){Q();const x=JSON.parse(p.message||"{}");P.error(x.enDesc||"Create SKU failed");return}}else{const n=o.value.normalPropertyList.map(d=>{var f;return(f=d.selectedproperty)==null?void 0:f.skuList}).filter(d=>Array.isArray(d)&&d.length>0);if(n.length===0)return;let s=n.reduce((d,f)=>d.filter(l=>f.includes(l)));if(s.length==0){P.error("Please select all properties");return}h=s[0],We()}let i={productQuantity:L.value,productSku:h},g=await Ae(i);P.success("Add successful!"),_e(),ze.refreshCart()}catch(r){let t=JSON.parse(r.message);_e(),P.error(t.enDesc||"failed, please try again")}},Xe=r=>{let t=parseInt(r.target.value.replace(/[^\d]/g,""))||1;t<1&&(t=1),t>999&&(t=999),L.value=t};function K(r){return r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0&&r.constructor===Object}const Ye=async()=>{try{if(!L.value||L.value<=0){P.error("Please enter quantity!");return}let r=!0,t=!1,a=[],c,u=[];if(o.value.normalPropertyList.forEach(i=>{var n,s;K(i.selectedproperty)&&(r=!1),i.isneedinput&&i.chooseindex==2&&(i.needinputlist.filter(f=>f.isactive).forEach(f=>{a=f.inputvalue,t=a.some(l=>l==="")}),c=i);let g=[{isSelect:!0,isMissing:!0,detailName:(n=i.selectedproperty)==null?void 0:n.detailName,propertyId:(s=i.selectedproperty)==null?void 0:s.propertyId}];u.push({detailList:g,specCode:i.specCode,propertyId:i.propertyId,propertyType:i.propertyType,propertyName:i.propertyName})}),t){P.error("No dimensions entered!");return}if(!r){P.error("Please select properties!");return}let h;if(a.length>0){let i=u.find(f=>f.propertyId===c.propertyId);i&&(i.detailList=[{isSelect:!0,isMissing:!0,detailName:a.join("*"),propertyId:c.propertyId}]);let g=o.value.erpProduct.variationList;const n=o.value.normalPropertyList.find(f=>f.propertyNameShop==="Shape");let s="";n&&n.selectedproperty&&(s=n.selectedproperty.detailName);let d={productId:A.value,productStyle:o.value.erpProduct.productStyle,propertyList:u,shape:s,variationList:g||[]};for(let f=0;f<a.length;f++)d[`edge${f+1}`]=a[f]||0;try{ie(),h=(await ue(d)).result.skuSpec.sku}catch(f){Q();const l=JSON.parse(f.message||"{}");P.error(l.enDesc||"Create SKU failed");return}}else{const i=o.value.normalPropertyList.map(n=>{var s;return(s=n.selectedproperty)==null?void 0:s.skuList}).filter(n=>Array.isArray(n)&&n.length>0);if(i.length===0)return;let g=i.reduce((n,s)=>n.filter(d=>s.includes(d)));if(g.length==0){P.error("Please select all properties");return}h=g[0],ie()}Q(),Z.push("/checkout?from=detail&sku="+h+"&number="+L.value)}catch(r){console.log(r);let t=JSON.parse(r.message);Q(),P.error(t.enDesc||"Failed")}};let M=null,W=null;const F=y([{label:"Home",to:"/",title:"Home"}]);if(H){const r=decodeURIComponent(H),t=r.match(/^\/(.+?)-(\d+)(\/)?$/);t&&(M=t[1],W=H);const a=r.match(/^\/collections\/([^/?#]+)/);a&&(M=a[1],W=H),M&&W&&F.value.push({label:M,to:W,title:M})}const we=r=>{var u;const t=`/product/${A.value}/${r}`,a=F.value.length-1,c=F.value[a];c&&((u=c.to)!=null&&u.startsWith("/product"))?F.value[a]={label:r,to:t,title:r}:F.value.push({label:r,to:t,title:r})},Ze=async()=>{try{$.value=!0;let r={id:A.value,needPropData:!0,excludeUserCustomProp:!0},t=await ce(r);we(t.result.erpProduct.productEnglishName),Me.value=t.result,o.value=t.result,z.value=t.result.erpProduct.customPrice,me=t.result.erpProduct.specList,o.value.normalPropertyList.forEach(a=>{let c=y([]),u=y([]);a.detailList.forEach(h=>{if(h.isactive=!0,h.label=h.detailName,h.inputList){let i=[];h.inputList.forEach(g=>{i.push("")}),h.inputvalue=i,a.isneedinput=!0,u.value.push(h)}else c.value.push(h);a.needinputlist=u.value,a.noneedinputlist=c.value,a.chooseindex=1,c.value.length==0&&(a.chooseindex=2)})}),o.value.normalPropertyList[0].showType=!0,j.value=o.value.erpProduct.mainPic}catch{P.error("Failed to load product data")}finally{$.value=!1,Qe()}};(()=>{try{we(o.value.erpProduct.productEnglishName),me=o.value.erpProduct.specList,o.value.normalPropertyList.forEach(r=>{let t=y([]),a=y([]);r.detailList.forEach(c=>{if(c.isactive=!0,c.label=c.detailName,c.inputList){let u=[];c.inputList.forEach(h=>{u.push("")}),c.inputvalue=u,r.isneedinput=!0,a.value.push(c)}else t.value.push(c);r.needinputlist=a.value,r.noneedinputlist=t.value,r.chooseindex=1,t.value.length==0&&(r.chooseindex=2)})}),o.value.normalPropertyList[0].showType=!0}catch(r){console.log(r),P.error("Failed to load product data")}finally{$.value=!1}})();const ke=(r,t,a)=>{t.chooseindex="1";let c=t.detailList.find(u=>u.propertyDetailId===r);G(a,c)},Pe=(r,t,a)=>{r.chooseindex=t;let c="";if(r.isneedinput){let u=r.needinputlist.filter(i=>i.isactive),h=[];u.forEach((i,g)=>{g+2==r.chooseindex&&(h=i.inputvalue,c=h.join("*"))}),r.selectedproperty||(r.selectedproperty={}),r.selectedproperty.inputvalue=c,G(a,r.selectedproperty)}},et=async r=>{const t=o.value.normalPropertyList.find(u=>u.propertyNameShop==="Shape");let a="";t&&t.selectedproperty&&(a=t.selectedproperty.detailName);let c={spu:o.value.erpProduct.productStyle,shape:a};for(let u=0;u<r.length;u++)c[`side${u+1}`]=r[u]||0;try{let h=(await Be(c)).result.sellingPrice;z.value=h,oe.value=""}catch(u){let h=JSON.parse(u.message);oe.value=h.enDesc}},tt=(r,t)=>{var a;return(a=t.detailName)==null?void 0:a.toLowerCase().includes(r.toLowerCase())},st=(r,t)=>{Z.push(`/product/${r}/${t}`)},rt=r=>{o.value.normalPropertyList.forEach((t,a)=>{t.showType=a===r?!t.showType:!1})},X=y(!0),Le=y(null),ne=y(null),lt=y(!0),Ce=()=>{if(ne.value){const r=Le.value.getBoundingClientRect();ne.value.getBoundingClientRect().top<800||r.top>0?X.value=!0:X.value=!1}};return ut(()=>{window.addEventListener("scroll",Ce)}),De(()=>pe.query,()=>{Ze()},{deep:!0}),De(E,r=>{const t=o.value.erpProduct.photoList;t[r]&&(j.value=t[r].url)}),pt(()=>{window.removeEventListener("scroll",Ce)}),(r,t)=>{const a=ot,c=at,u=mt,h=yt,i=gt,g=ft,n=_t;return v(),m(C,null,[e("div",Nt,[$.value?(v(),m("div",Dt,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary"},null,-1)]))):k("",!0),$.value?(v(),m("div",jt,[e("div",Et,[e("div",Tt,[(v(),m(C,null,I(3,s=>e("div",{key:s,class:"h-6 w-24 bg-gray-200 rounded animate-pulse"})),64))]),e("div",$t,[e("div",Ft,[e("div",Bt,[t[5]||(t[5]=e("div",{class:"w-full aspect-square bg-gray-200 rounded-xl animate-pulse mb-4"},null,-1)),e("div",Ut,[(v(),m(C,null,I(4,s=>e("div",{key:s,class:"w-20 h-20 bg-gray-200 rounded-xl animate-pulse"})),64))])])]),e("div",At,[t[7]||(t[7]=e("div",{class:"h-8 w-3/4 bg-gray-200 rounded animate-pulse mb-4"},null,-1)),t[8]||(t[8]=e("div",{class:"h-6 w-1/4 bg-gray-200 rounded animate-pulse mb-4"},null,-1)),(v(),m(C,null,I(3,s=>e("div",{key:s,class:"mb-6 border-b border-gray-200 pb-6"},[t[6]||(t[6]=e("div",{class:"flex justify-between items-center"},[e("div",{class:"h-6 w-1/3 bg-gray-200 rounded animate-pulse"}),e("div",{class:"h-5 w-5 bg-gray-200 rounded-full animate-pulse"})],-1)),e("div",zt,[(v(),m(C,null,I(6,d=>e("div",{key:d,class:"h-24 w-full bg-gray-200 rounded-xl animate-pulse"})),64))])])),64)),t[9]||(t[9]=vt('<div class="border-b border-gray-200 pb-6" data-v-8020ef23><div class="flex flex-col gap-4" data-v-8020ef23><div class="flex justify-between" data-v-8020ef23><div class="h-6 w-1/4 bg-gray-200 rounded animate-pulse" data-v-8020ef23></div><div class="h-6 w-32 bg-gray-200 rounded animate-pulse" data-v-8020ef23></div></div><div class="flex justify-between" data-v-8020ef23><div class="h-6 w-1/4 bg-gray-200 rounded animate-pulse" data-v-8020ef23></div><div class="h-6 w-24 bg-gray-200 rounded animate-pulse" data-v-8020ef23></div></div><div class="flex gap-4" data-v-8020ef23><div class="h-12 w-full bg-gray-200 rounded-md animate-pulse" data-v-8020ef23></div><div class="h-12 w-full bg-gray-200 rounded-md animate-pulse" data-v-8020ef23></div></div></div></div>',1))])])])])):(v(),m("div",Rt,[b(a,{divider:">",links:F.value,class:"mb-6 text-blackcolor custom-breadcrumb text-2xl",ui:{base:"hover:underline",li:"text-sm font-normal text-gray-400",active:"text-customblack dark:text-primary-400 no-underline hover:no-underline",divider:{base:"px-2 text-text-gray-400 no-underline"}}},null,8,["links"]),e("div",{class:"text-gray-800",ref_key:"detailSectionRef",ref:Le},[e("div",Mt,[e("div",Vt,[e("div",Ot,[j.value?(v(),m("div",qt,[b(c,{format:"webp",src:j.value,onLoad:Re,alt:"Shade sail",class:"rounded-xl shadow-lg w-full transition-all duration-300 w-full h-full object-cover"},null,8,["src"]),e("div",{class:w(["main-button-prev absolute left-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":re.value}]),onClick:Je},[e("div",Ht,[b(u,{name:"i-raphael:arrowleft2",class:"text-primary w-6 h-6"})])],2),e("div",{class:w(["main-button-next absolute right-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":le.value}]),onClick:Ge},[e("div",Jt,[b(u,{name:"i-raphael:arrowright2",class:"text-primary w-6 h-6"})])],2)])):k("",!0),b(h,null,{default:S(()=>[b(B(xt),{modules:[B(bt)],ref_key:"swiperRefThumb",ref:ve,navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"},"space-between":10,class:"w-full",breakpoints:{0:{slidesPerView:5,slidesPerGroup:5}},onSwiper:qe,onSlideChange:He,watchSlidesProgress:!0},{default:S(()=>[(v(!0),m(C,null,I(o.value.erpProduct.photoList,s=>(v(),je(B($e),{key:s.url},{default:S(()=>[b(c,{width:"80",height:"80",loading:"eager",src:s.url,alt:"thumbnail",class:"w-full object-cover rounded-xl cursor-pointer hover:opacity-80",onClick:d=>j.value=s.url},null,8,["src","onClick"])]),_:2},1024))),128)),b(B($e),null,{default:S(()=>[e("div",Gt,[e("video",Qt,[e("source",{src:o.value.erpProduct.productVideoUrl,type:"video/mp4"},null,8,Kt)])])]),_:1}),e("div",{class:w(["custom-button-prev absolute left-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":re.value}])},[e("div",Wt,[b(u,{name:"i-raphael:arrowleft2",class:"text-primary w-4 h-4"})])],2),e("div",{class:w(["custom-button-next absolute right-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":le.value}])},[e("div",Xt,[b(u,{name:"i-raphael:arrowright2",class:"text-primary w-4 h-4"})])],2)]),_:1},8,["modules"])]),_:1})])]),e("div",Yt,[e("div",Zt,[e("h1",es,_(o.value.erpProduct.productEnglishName),1)]),e("div",ts,[e("div",ss," $"+_(z.value),1)]),o.value.normalPropertyList?(v(),m("div",rs,[(v(!0),m(C,null,I(o.value.normalPropertyList,(s,d)=>{var f;return v(),m("div",ls,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:l=>rt(d)},[e("h2",as,[b(i,{color:"black",variant:"solid",class:"mr-3 w-6 h-6",ui:{color:{black:{solid:"dark:bg-gray-900 dark:text-white"}}}},{default:S(()=>[U(_(d+1),1)]),_:2},1024),e("span",is,_(s.propertyNameShop),1),s.desc?(v(),je(B(St),{key:0,color:"white",overlayInnerStyle:{color:"#333"},placement:"topLeft",title:s.desc,overlayStyle:{maxWidth:"330px",whiteSpace:"pre-line",wordBreak:"break-word"}},{default:S(()=>t[10]||(t[10]=[e("img",{src:wt,class:"w-6 h-6 ml-2"},null,-1)])),_:2,__:[10]},1032,["title"])):k("",!0)]),e("div",ns,[s.selectedproperty?(v(),m("span",ds,_(s.isneedinput&&s.chooseindex==2?s.selectedproperty.inputvalue:s.selectedproperty.detailName),1)):k("",!0),b(u,{name:s.showType?"i-lucide-chevron-up":"i-lucide-chevron-down",class:"w-5 h-5 text-gray-500 font-medium transition-all duration-300"},null,8,["name"])])],8,os),e("div",{class:w(["transition-all duration-300 ease-in-out grid gap-4",s.showType?"max-h-[500px] mt-4":"overflow-hidden max-h-0",!s.isneedinput&&s.productPropertyDetailType!="text"?"grid-cols-5 sm:grid-cols-6":""])},[!s.isneedinput&&s.productPropertyDetailType!="text"?(v(!0),m(C,{key:0},I(s.detailList,(l,p)=>(v(),m("div",{key:l,onClick:x=>G(d,l),class:w(["p-1 rounded-xl flex flex-col items-center transition-all",l.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"])},[l.imageLink?(v(),m("div",{key:0,class:w(["w-full aspect-square overflow-hidden",s.selectedproperty&&l.propertyDetailId===s.selectedproperty.propertyDetailId?"border border-primary":""])},[e("img",{src:l.imageLink,class:"w-full h-full object-contain"},null,8,us)],2)):k("",!0),e("div",{class:w(["py-2 w-full text-sm",["py-2 w-full",l.imageLink?"":"border border-customblack w-full rounded-md",!l.imageLink&&s.selectedproperty&&l.propertyDetailId===s.selectedproperty.propertyDetailId?"border border-primary w-full":""]])},[e("div",ps,_(l.detailName),1)],2)],10,cs))),128)):k("",!0),!s.isneedinput&&s.productPropertyDetailType=="text"?(v(),m("div",vs,[(v(!0),m(C,null,I(s.detailList,(l,p)=>(v(),m("div",{key:l,onClick:x=>G(d,l),class:w(["p-2 rounded-xl flex flex-col items-center transition-all max-w-[33.3333%] min-w-[20%]",l.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"])},[l.imageLink?(v(),m("div",{key:0,class:w(["w-full aspect-square overflow-hidden",s.selectedproperty&&l.propertyDetailId===s.selectedproperty.propertyDetailId?"border border-primary":""])},[e("img",{src:l.imageLink,class:"w-full h-full object-cover"},null,8,fs)],2)):k("",!0),e("div",{class:w(["p-2 w-full text-sm",["py-2 w-full",l.imageLink?"":"border border-customblack w-full rounded-md",!l.imageLink&&s.selectedproperty&&l.propertyDetailId===s.selectedproperty.propertyDetailId?"border border-primary w-full":""]])},[e("div",hs,_(l.detailName),1)],2)],10,ms))),128))])):k("",!0),s.isneedinput?(v(),m("div",ys,[e("div",gs,[e("div",xs,[(v(!0),m(C,null,I(s.needinputlist.filter(l=>!l.disabled),(l,p)=>(v(),m("div",_s,[e("div",bs,[e("label",ws,[D(e("input",{type:"radio","onUpdate:modelValue":x=>s.chooseindex=x,value:p+2,onChange:x=>Pe(s,p+2,d)},null,40,ks),[[Ee,s.chooseindex]]),e("span",Ps,_(l.detailName),1)])]),(v(!0),m(C,null,I(l.inputList,(x,N)=>(v(),m("div",Ls,[e("div",Cs,[e("label",Is,_(x),1),D(e("input",{type:"number","onUpdate:modelValue":Y=>l.inputvalue[N]=Y,onChange:Y=>Pe(s,p+2,d),class:"rounded p-1 text-sm w-28",min:0,max:100,step:"1"},null,40,Ss),[[Te,l.inputvalue[N]]])])]))),256)),e("div",Ns,_(oe.value),1)]))),256)),s.noneedinputlist.length>0?(v(),m("div",Ds,[e("label",js,[D(e("input",{type:"radio","onUpdate:modelValue":l=>s.chooseindex=l,value:"1",onChange:l=>{var p;return ke((p=s.selectedproperty)==null?void 0:p.propertyDetailId,s,d)}},null,40,Es),[[Ee,s.chooseindex]]),t[11]||(t[11]=e("span",{class:"font-bold text-sm"},"Standard size:",-1))]),b(B(It),{value:(f=s.selectedproperty)==null?void 0:f.propertyDetailId,style:{width:"200px"},options:s.noneedinputlist,"field-names":{label:"detailName",value:"propertyDetailId"},placeholder:"Please select attributes","show-search":"","filter-option":tt,onChange:l=>ke(l,s,d),"option-label-prop":"label"},{option:S(({detailName:l,imageLink:p,disabled:x})=>[e("div",{class:w(["flex items-center gap-2",{"opacity-50":x}])},[p?(v(),m("img",{key:0,src:p,class:"w-6 h-6 mr-2"},null,8,Ts)):k("",!0),e("span",null,_(l),1)],2)]),_:2},1032,["value","options","onChange"])])):k("",!0)])])])):k("",!0)],2)])}),256))])):k("",!0),D(e("div",$s,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:t[0]||(t[0]=s=>J.value=!J.value)},[e("h2",Fs,[b(i,{color:"black",variant:"solid",class:"mr-3"},{default:S(()=>[U(_(o.value.normalPropertyList.length+1),1)]),_:1}),t[12]||(t[12]=U(" PRINT ON DEMAND "))]),b(u,{name:J.value?"i-lucide-chevron-up":"i-lucide-chevron-down",class:"w-5 h-5 text-gray-500 transition-all duration-300"},null,8,["name"])]),e("div",{class:w(["overflow-hidden transition-all duration-300 ease-in-out grid gap-4",J.value?"max-h-[500px] mt-4":"max-h-0"])},[e("div",Bs,[e("div",Us,[e("p",As,[(v(!0),m(C,null,I(o.value.printPropertyList,(s,d)=>(v(),m("span",null,_(s.value)+_(d<o.value.printPropertyList.length?",":""),1))),256))]),t[13]||(t[13]=e("div",{class:"text-primary border-b-2 w-fit border-primary py-1 font-semibold cursor-pointer"}," Design Now",-1))]),e("div",zs,[D(e("img",{src:fe.value,alt:"Dimension guide",class:"rounded-xl border"},null,8,Rs),[[O,fe.value]])])])],2)],512),[[O,o.value.printPropertyList&&o.value.printPropertyList.length>0]]),e("div",Ms,[e("div",Vs,[e("div",Os,[t[15]||(t[15]=e("span",{class:"font-semibold text-base sm:text-lg"},"Quantity",-1)),e("div",qs,[e("div",Hs,[e("button",{onClick:xe,class:"text-gray-500 px-2 hover:text-black"},"−"),D(e("input",{onInput:Xe,"onUpdate:modelValue":t[1]||(t[1]=s=>L.value=s),class:"w-12 text-center outline-none border-0 py-1 bg-[#F8F8F8]"},null,544),[[Te,L.value]]),e("button",{onClick:ge,class:"text-gray-500 px-2 hover:text-black"},"+")]),t[14]||(t[14]=e("span",{class:"ml-2 text-base sm:text-lg"},"Panels",-1))])]),e("div",Js,[t[16]||(t[16]=e("span",{class:"font-semibold text-base sm:text-lg"},"Total price",-1)),e("div",Gs,[e("span",Qs,"$"+_(he.value.toFixed(2)),1)])]),e("div",Ks,[b(g,{class:"w-full sm:flex-1 flex items-center justify-center rounded-md text-white font-normal",color:"primary",variant:"solid",size:"xl",loading:se.value,onClick:Ye},{default:S(()=>t[17]||(t[17]=[U(" Order Now ")])),_:1,__:[17]},8,["loading"]),b(g,{class:"w-full sm:flex-1 flex items-center justify-center bg-primary-100 rounded-md text-primary font-normal hover:text-white",loading:te.value,onClick:be,color:"primary",variant:"solid",size:"xl"},{default:S(()=>t[18]||(t[18]=[U(" Add to Cart ")])),_:1,__:[18]},8,["loading"])])])])])])],512),e("div",Ws,[e("div",Xs,[e("div",Ys,[e("div",Zs,[o.value.erpProduct.remarks?(v(),m("div",er,[e("div",{class:w(["inline-block p-4 rounded-xl rounded-b-none cursor-pointer text-center text-sm sm:text-base",{"border-b-2 border-black font-semibold":R.value===1}]),onClick:t[2]||(t[2]=s=>ye(1))}," Basic Information ",2)])):k("",!0),o.value.printPropertyList.length>0?(v(),m("div",tr,[e("div",{class:w(["inline-block p-4 rounded-xl rounded-b-none cursor-pointer text-center text-sm sm:text-base",{"border-b-2 border-black font-semibold":R.value===2}]),onClick:t[3]||(t[3]=s=>ye(2))}," Print Information ",2)])):k("",!0)])]),D(e("div",sr,[e("div",{class:"overflow-hidden",innerHTML:o.value.erpProduct.remarks},null,8,rr)],512),[[O,R.value==1&&o.value.erpProduct.remarks]]),D(e("div",lr,[(v(!0),m(C,null,I(o.value.printPropertyList,s=>(v(),m("div",or,[e("span",ar,_(s.value),1)]))),256))],512),[[O,R.value==2&&o.value.printPropertyList>0]])])]),ae.value.length>0?(v(),m("div",ir,[t[19]||(t[19]=e("h1",{class:"text-lg font-normal mb-8"},"Recommended products",-1)),e("div",nr,[(v(!0),m(C,null,I(ae.value,(s,d)=>(v(),m("div",{key:d,onClick:f=>st(s.id,s.erpProduct.productEnglishName),class:"product-card rounded-lg transition-transform duration-300 ease-in-out hover:scale-105 cursor-pointer"},[e("div",cr,[e("img",{src:s.erpProduct.mainPic??"/images/empty.jpg",alt:s.erpProduct.productEnglishName,class:"w-full h-full object-cover object-top rounded-sm"},null,8,ur)]),e("div",pr,[e("h3",vr,_(s.erpProduct.productEnglishName),1),e("p",mr,"$"+_(s.erpProduct.customPrice.toFixed(2)),1)])],8,dr))),128))])])):k("",!0)])),D(e("div",{ref_key:"bottomBarRef",ref:ne,class:w(["flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 py-4 px-8 bg-white rounded-md shadow-lg sticky bottom-0 transition-all duration-300 ease-in-out",{"opacity-100 translate-y-0 pointer-events-auto":!X.value,"opacity-0 translate-y-8 pointer-events-none":X.value}])},[e("div",null,[e("h2",fr,_(o.value.erpProduct.productEnglishName),1),t[20]||(t[20]=e("p",{class:"text-sm text-gray-500"},"Ordinary type sail / Rectangle",-1))]),e("div",hr,[e("div",yr,[e("button",{class:"text-gray-500 hover:text-gray-700",onClick:xe},"-"),e("span",gr,_(L.value),1),e("button",{class:"text-gray-500 hover:text-gray-700",onClick:ge},"+")]),t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"Panels",-1)),e("span",xr,"$"+_(he.value.toFixed(2)),1),b(g,{color:"primary",size:"md",onClick:be,class:"rounded-lg"},{default:S(()=>t[21]||(t[21]=[U(" Add to Cart ")])),_:1,__:[21]})])],2),[[O,lt.value&&!$.value]])]),b(n)],64)}}},Or=it(_r,[["__scopeId","data-v-8020ef23"]]);export{Or as default};
