import{_ as Qe}from"./CvFygFLo.js";import{x as Ke,a0 as We,u as Xe,r as g,c as W,o as Ye,w as xe,a4 as Ze,b as p,e as c,h as b,k as w,g as S,f as e,F as L,i as C,A as et,z as ie,n as _,y as tt,l as I,j as $,t as x,p as B,a2 as be,m as _e,q as M,I as st,s as P}from"./kSsZQJMu.js";import{_ as rt}from"./Ckbd6zKV.js";import{S as we,d as lt,_ as ot}from"./DarYrJW9.js";import{N as it,_ as at}from"./ugCKZAWR.js";import{u as nt,c as dt}from"./qxOEfmD5.js";import{P as ct}from"./Dhub1vTp.js";import{S as ut}from"./Ce_dQgFj.js";import{T as pt}from"./BdhjvTua.js";import"./BOho523-.js";import"./OwN-t2v0.js";import"./DfdN0tzT.js";import"./bdVkYHui.js";import"./KIWZttzz.js";const mt={class:"bg-white w-full pt-10"},vt={key:0,class:"fixed inset-0 bg-white bg-opacity-80 z-50 flex items-center justify-center"},ft={key:1,class:"max-row"},ht={class:"mb-6"},yt={class:"flex gap-2 mb-6"},gt={class:"grid grid-cols-1 md:grid-cols-12 gap-8"},xt={class:"md:col-span-5"},bt={class:"sticky top-[124px]"},_t={class:"flex gap-2"},wt={class:"md:col-span-7"},kt={class:"grid grid-cols-6 gap-4 mt-4"},Pt={key:2,class:"max-row"},Lt={class:"grid grid-cols-1 md:grid-cols-12 gap-8"},Ct={class:"md:col-span-5"},It={class:"sticky top-[124px]"},St={key:0,class:"w-full aspect-square overflow-hidden mb-4 relative"},Nt=["src"],jt={class:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow text-primary"},Et={class:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow text-primary"},Dt=["src","onClick"],Tt={class:"flex items-center justify-center h-full w-full"},$t={class:"max-h-full max-w-full"},Bt=["src"],Ft={class:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow text-primary"},Ut={class:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow text-primary"},Vt={class:"md:col-span-7"},At={class:"flex items-center justify-between"},zt={class:"text-xl font-normal sm:text-lg md:text-lg lg:text-2xl mb-0"},Mt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 mb-4 mt-7"},Rt={class:"text-xl sm:text-xl font-medium text-primary"},Ot={key:0,class:"mt-12"},qt={class:"mb-4 border-b border-b-[#C8C8C8] pb-4"},Gt=["onClick"],Ht={class:"font-bold text-lg flex items-center mb-0"},Jt={class:"truncate-1-lines"},Qt={class:"flex items-center"},Kt={key:0,class:"mr-4 truncate-1-lines"},Wt=["onClick"],Xt=["src"],Yt={class:"truncate-2-lines text-center"},Zt={key:1,class:"w-full flex flex-wrap max-h-[500px] overflow-y-auto"},es=["onClick"],ts=["src"],ss={class:"truncate-1-lines text-center"},rs={key:2,class:"flex flex-col md:flex-row md:items-start gap-6 relative w-full"},ls={class:"flex-1 space-y-4"},os={class:"text-base text-gray-800"},is={class:"cursor-pointer block"},as={class:"flex items-center"},ns=["onUpdate:modelValue","value"],ds={class:"font-semibold text-sm"},cs={class:"mt-4"},us={class:"flex items-center space-x-4 mt-2"},ps={class:"text-sm"},ms=["onUpdate:modelValue","onChange"],vs={class:"text-red-500 text-sm mt-2"},fs={key:0,class:"flex items-center space-x-2 cursor-pointer mt-4"},hs={class:"flex items-center space-x-2 cursor-pointer"},ys=["onUpdate:modelValue"],gs=["src"],xs={class:"mb-4 border-b border-b-[#C8C8C8] pb-4"},bs={class:"font-bold text-lg flex items-center mb-0"},_s={class:"flex flex-col md:flex-row md:items-start gap-12 relative justify-between"},ws={class:"flex-1 space-y-4"},ks={class:"font-semibold text-sm"},Ps={class:"w-full md:w-40 shrink-0 self-center"},Ls=["src"],Cs={class:"border-b border-b-[#C8C8C8]"},Is={class:"w-full mx-auto bg-white py-6 sm:py-8 rounded-md"},Ss={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ns={class:"flex items-center rounded px-2"},js={class:"border flex items-center bg-[#F8F8F8] rounded"},Es={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-6 sm:mt-8"},Ds={class:"flex items-center flex-wrap gap-2"},Ts={class:"text-base sm:text-lg font-bold text-primary"},$s={class:"flex flex-col sm:flex-row gap-4 mt-6 sm:mt-8"},Bs={class:"bg-[#F8F8F8]"},Fs={class:"mx-auto mt-16"},Us={class:"text-base font-normal bg-white"},Vs={class:"flex justify-start"},As={key:0,class:"w-auto"},zs={key:1,class:"w-auto"},Ms={class:"mx-auto max-row p-6 rounded p-2"},Rs=["innerHTML"],Os={class:"mx-auto max-row p-6 grid grid-cols-1 sm:grid-cols-4 lg:grid-cols-4 gap-y-6 gap-x-8 text-gray-800 bg-[#F8F8F8] py-16 rounded p-2"},qs={class:"flex justify-between"},Gs={class:"text-sm sm:text-base"},Hs={key:0,class:"mt-12 pb-4"},Js={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-12"},Qs=["onClick"],Ks={class:"relative overflow-hidden"},Ws=["src","alt"],Xs={class:"mt-2"},Ys={class:"text-base font-normal mb-2 line-clamp-2"},Zs={class:"text-xl font-bold text-primary"},er={class:"font-semibold text-base sm:text-lg text-gray-900"},tr={class:"flex flex-wrap items-center gap-3 sm:gap-4"},sr={class:"flex items-center border border-gray-300 rounded px-2 py-1"},rr={class:"mx-2 w-12 text-center"},lr={class:"text-base sm:text-lg font-medium text-gray-800"},or={__name:"productinfo",setup(ir){const ae=We(),X=Xe(),R=X.options.history.state.back,ke=nt(),F=g(!0),U=g(null),V=g(0),Y=g(!1),Z=g(!1),Pe=g({}),O=W(()=>ae.query.id??"29201"),q=g(!0),N=g(0),ee=W(()=>N.value===0),te=W(()=>N.value===i.value.erpProduct.photoList.length-1);let Le=[],E=[];const ne=g(""),i=g({erpProduct:{customPrice:0,photoList:[],propertyList:[],catalogId:0,mainPic:""},printPropertyList:[],normalPropertyList:[]}),{getProductById:Ce,randomRecommendationProductByCatalogId:Ie,trialPriceCalculationBySpuV2:Se,erpTryToCreateSku:de,getmapProductByProductSkuList:Ne}=ct(),{createCart:je}=dt(),j=g(""),k=g(1),ce=W(()=>k.value*V.value),A=g(1),se=g(""),Ee=s=>{U.value=s},De=()=>{var s;if(U.value){const t=U.value;ee.value=t.isBeginning,te.value=t.isEnd;const a=t.activeIndex,u=i.value.erpProduct.photoList;a<u.length?j.value=u[a].url:j.value=((s=u[u.length-1])==null?void 0:s.url)||i.value.erpProduct.mainPic}},Te=()=>{N.value>0&&N.value--},$e=()=>{const s=i.value.erpProduct.photoList.length-1;N.value<s&&N.value++},ue=s=>{A.value=s},pe=()=>{k.value++},me=()=>{k.value>1&&k.value--},G=(s,t)=>{if(console.log(s),console.log("type",t),t.disabled)return;if(i.value.normalPropertyList.forEach((d,r)=>{r<s&&J(d.selectedproperty)&&(E=E.filter(o=>d.selectedproperty.skuList.includes(o))),s==0&&(E=t.skuList)}),E||(E=[]),i.value.normalPropertyList[s+1]&&t.skuList){let d=E.length>0?E.filter(o=>t.skuList.includes(o)):t.skuList||[];i.value.normalPropertyList[s+1].isneedinput?(i.value.normalPropertyList[s+1].noneedinputlist.forEach(l=>{let n=l.skuList,h=n&&n.some(y=>d.includes(y));l.isactive=h,l.disabled=!h}),i.value.normalPropertyList[s+1].needinputlist.forEach(l=>{let n=l.skuList,h=n&&n.some(y=>d.includes(y));l.isactive=h,l.disabled=!h})):i.value.normalPropertyList[s+1].detailList.forEach(m=>{let l=m.skuList,n=l&&l.some(h=>d.includes(h));m.isactive=n,m.disabled=!n})}i.value.normalPropertyList[s].selectedproperty=t,i.value.normalPropertyList[s+1]&&t.skulist&&(i.value.normalPropertyList[s+1].selectedproperty={});let a=[],u=!1,v,f=!0;if(i.value.normalPropertyList.forEach(d=>{J(d.selectedproperty)&&(f=!1),d.isneedinput&&d.chooseindex==2&&(d.needinputlist.filter(o=>o.isactive).forEach(o=>{a=o.inputvalue,u=a.some(m=>m==="")}),v=d)}),v)f&&!u&&Re(a);else{const d=i.value.normalPropertyList.map(m=>{var l;return(l=m.selectedproperty)==null?void 0:l.skuList}).filter(m=>Array.isArray(m)&&m.length>0);if(d.length===0)return;let r=d.reduce((m,l)=>m.filter(n=>l.includes(n)));console.log(r);let o=r[0];o&&Be(o)}},Be=async s=>{try{let v=(await Ne({skuList:[s]})).result[s];V.value=v.skuSpec.customPrice}catch{}},re=g([]),Fe=()=>{Y.value=!0},le=()=>{Z.value=!0},ve=()=>{Y.value=!1},H=()=>{Z.value=!1},fe=async()=>{try{if(!k.value||k.value<=0){P.error("Please enter quantity!");return}let s=!0,t=!1,a=[],u,v=[];if(i.value.normalPropertyList.forEach(o=>{var l,n;J(o.selectedproperty)&&(s=!1),o.isneedinput&&o.chooseindex==2&&(o.needinputlist.filter(y=>y.isactive).forEach(y=>{a=y.inputvalue,t=a.some(T=>T==="")}),u=o);let m=[{isSelect:!0,isMissing:!0,detailName:(l=o.selectedproperty)==null?void 0:l.detailName,propertyId:(n=o.selectedproperty)==null?void 0:n.propertyId}];v.push({detailList:m,specCode:o.specCode,propertyId:o.propertyId,propertyType:o.propertyType,propertyName:o.propertyName})}),t){P.error("No dimensions entered!");return}if(!s){P.error("Please select properties!");return}let f;if(a.length>0){let o=v.find(y=>y.propertyId===u.propertyId);o&&(o.detailList=[{isSelect:!0,isMissing:!0,detailName:a.join("*"),propertyId:u.propertyId}]);let m=i.value.erpProduct.variationList;const l=i.value.normalPropertyList.find(y=>y.propertyNameShop==="Shape");let n="";l&&l.selectedproperty&&(n=l.selectedproperty.detailName);let h={productId:O.value,productStyle:i.value.erpProduct.productStyle,propertyList:v,shape:n,variationList:m||[]};for(let y=0;y<a.length;y++)h[`edge${y+1}`]=a[y]||0;try{le(),f=(await de(h)).result.skuSpec.sku}catch(y){H();const T=JSON.parse(y.message||"{}");P.error(T.enDesc||"Create SKU failed");return}}else{const o=i.value.normalPropertyList.map(l=>{var n;return(n=l.selectedproperty)==null?void 0:n.skuList}).filter(l=>Array.isArray(l)&&l.length>0);if(o.length===0)return;let m=o.reduce((l,n)=>l.filter(h=>n.includes(h)));if(m.length==0){P.error("Please select all properties");return}f=m[0],Fe()}let d={productQuantity:k.value,productSku:f},r=await je(d);P.success("Add successful!"),ve(),ke.refreshCart()}catch(s){let t=JSON.parse(s.message);ve(),P.error(t.enDesc||"failed, please try again")}},Ue=s=>{let t=parseInt(s.target.value.replace(/[^\d]/g,""))||1;t<1&&(t=1),t>999&&(t=999),k.value=t};function J(s){return s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0&&s.constructor===Object}const Ve=async()=>{try{if(!k.value||k.value<=0){P.error("Please enter quantity!");return}let s=!0,t=!1,a=[],u,v=[];if(i.value.normalPropertyList.forEach(d=>{var o,m;J(d.selectedproperty)&&(s=!1),d.isneedinput&&d.chooseindex==2&&(d.needinputlist.filter(n=>n.isactive).forEach(n=>{a=n.inputvalue,t=a.some(h=>h==="")}),u=d);let r=[{isSelect:!0,isMissing:!0,detailName:(o=d.selectedproperty)==null?void 0:o.detailName,propertyId:(m=d.selectedproperty)==null?void 0:m.propertyId}];v.push({detailList:r,specCode:d.specCode,propertyId:d.propertyId,propertyType:d.propertyType,propertyName:d.propertyName})}),t){P.error("No dimensions entered!");return}if(!s){P.error("Please select properties!");return}let f;if(a.length>0){let d=v.find(n=>n.propertyId===u.propertyId);d&&(d.detailList=[{isSelect:!0,isMissing:!0,detailName:a.join("*"),propertyId:u.propertyId}]);let r=i.value.erpProduct.variationList;const o=i.value.normalPropertyList.find(n=>n.propertyNameShop==="Shape");let m="";o&&o.selectedproperty&&(m=o.selectedproperty.detailName);let l={productId:O.value,productStyle:i.value.erpProduct.productStyle,propertyList:v,shape:m,variationList:r||[]};for(let n=0;n<a.length;n++)l[`edge${n+1}`]=a[n]||0;try{le(),f=(await de(l)).result.skuSpec.sku}catch(n){H();const h=JSON.parse(n.message||"{}");P.error(h.enDesc||"Create SKU failed");return}}else{const d=i.value.normalPropertyList.map(o=>{var m;return(m=o.selectedproperty)==null?void 0:m.skuList}).filter(o=>Array.isArray(o)&&o.length>0);if(d.length===0)return;let r=d.reduce((o,m)=>o.filter(l=>m.includes(l)));if(r.length==0){P.error("Please select all properties");return}f=r[0],le()}H(),X.push("/checkout?from=detail&sku="+f+"&number="+k.value)}catch(s){console.log(s);let t=JSON.parse(s.message);H(),P.error(t.enDesc||"Failed")}};let z=null,Q=null;const D=g([{label:"Home",to:"/",title:"Home"}]);if(R){const s=decodeURIComponent(R),t=s.match(/^\/(.+?)-(\d+)(\/)?$/);t&&(z=t[1],Q=R);const a=s.match(/^\/collections\/([^/?#]+)/);a&&(z=a[1],Q=R),z&&Q&&D.value.push({label:z,to:Q,title:z})}const Ae=s=>{var v;const t=`/product/${O.value}/${s}`,a=D.value.length-1,u=D.value[a];u&&((v=u.to)!=null&&v.startsWith("/product"))?D.value[a]={label:s,to:t,title:s}:D.value.push({label:s,to:t,title:s})},he=async()=>{try{F.value=!0;let s={id:O.value,needPropData:!0},t=await Ce(s);Ae(t.result.erpProduct.productEnglishName),Pe.value=t.result,i.value=t.result,V.value=t.result.erpProduct.customPrice,Le=t.result.erpProduct.specList,i.value.normalPropertyList.forEach(a=>{let u=g([]),v=g([]);a.detailList.forEach(f=>{if(f.isactive=!0,f.label=f.detailName,f.inputList){let d=[];f.inputList.forEach(r=>{d.push("")}),f.inputvalue=d,a.isneedinput=!0,v.value.push(f)}else u.value.push(f);a.needinputlist=v.value,a.noneedinputlist=u.value,a.chooseindex=1,u.value.length==0&&(a.chooseindex=2)})}),i.value.normalPropertyList[0].showType=!0,j.value=i.value.erpProduct.mainPic}catch{P.error("Failed to load product data")}finally{F.value=!1,Oe()}},ze=(s,t,a)=>{let u=t.detailList.find(v=>v.propertyDetailId===s);G(a,u)},Me=(s,t,a)=>{console.log(a),s.chooseindex=t;let u="";if(s.isneedinput){let v=s.needinputlist.filter(d=>d.isactive),f=[];v.forEach((d,r)=>{r+2==s.chooseindex&&(f=d.inputvalue,u=f.join("*"))}),s.selectedproperty||(s.selectedproperty={}),s.selectedproperty.inputvalue=u,G(a,s.selectedproperty)}},Re=async s=>{const t=i.value.normalPropertyList.find(v=>v.propertyNameShop==="Shape");let a="";t&&t.selectedproperty&&(a=t.selectedproperty.detailName);let u={spu:i.value.erpProduct.productStyle,shape:a};for(let v=0;v<s.length;v++)u[`side${v+1}`]=s[v]||0;try{let f=(await Se(u)).result.sellingPrice;V.value=f,se.value=""}catch(v){let f=JSON.parse(v.message);se.value=f.enDesc}},Oe=async()=>{try{let s={catalogId:i.value.erpProduct.catalogId,size:5},t=await Ie(s);re.value=t.result}catch(s){console.error(s)}},qe=(s,t)=>{var a;return(a=t.detailName)==null?void 0:a.toLowerCase().includes(s.toLowerCase())},Ge=(s,t)=>{X.push(`/product/${s}/${t}`)},He=s=>{i.value.normalPropertyList.forEach((t,a)=>{t.showType=a===s?!t.showType:!1})},K=g(!0),ye=g(null),oe=g(null),Je=g(!0),ge=()=>{if(oe.value){const s=ye.value.getBoundingClientRect();oe.value.getBoundingClientRect().top<800||s.top>0?K.value=!0:K.value=!1}};return Ye(()=>{window.addEventListener("scroll",ge),he().then(()=>{if(U.value&&i.value.erpProduct.photoList.length>0){const s=i.value.erpProduct.photoList.findIndex(t=>t.url===j.value);s!==-1&&U.value.slideTo(s),N.value=s!==-1?s:0}})}),xe(()=>ae.query,()=>{he()},{deep:!0}),xe(N,s=>{const t=i.value.erpProduct.photoList;t[s]&&(j.value=t[s].url)}),Ze(()=>{window.removeEventListener("scroll",ge)}),(s,t)=>{const a=Qe,u=tt,v=rt,f=st,d=ot;return c(),p("div",mt,[F.value?(c(),p("div",vt,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary"},null,-1)]))):b("",!0),F.value?(c(),p("div",ft,[e("div",ht,[e("div",yt,[(c(),p(L,null,C(3,r=>e("div",{key:r,class:"h-6 w-24 bg-gray-200 rounded animate-pulse"})),64))]),e("div",gt,[e("div",xt,[e("div",bt,[t[5]||(t[5]=e("div",{class:"w-full aspect-square bg-gray-200 rounded-xl animate-pulse mb-4"},null,-1)),e("div",_t,[(c(),p(L,null,C(4,r=>e("div",{key:r,class:"w-20 h-20 bg-gray-200 rounded-xl animate-pulse"})),64))])])]),e("div",wt,[t[7]||(t[7]=e("div",{class:"h-8 w-3/4 bg-gray-200 rounded animate-pulse mb-4"},null,-1)),t[8]||(t[8]=e("div",{class:"h-6 w-1/4 bg-gray-200 rounded animate-pulse mb-4"},null,-1)),(c(),p(L,null,C(3,r=>e("div",{key:r,class:"mb-6 border-b border-gray-200 pb-6"},[t[6]||(t[6]=e("div",{class:"flex justify-between items-center"},[e("div",{class:"h-6 w-1/3 bg-gray-200 rounded animate-pulse"}),e("div",{class:"h-5 w-5 bg-gray-200 rounded-full animate-pulse"})],-1)),e("div",kt,[(c(),p(L,null,C(6,o=>e("div",{key:o,class:"h-24 w-full bg-gray-200 rounded-xl animate-pulse"})),64))])])),64)),t[9]||(t[9]=et('<div class="border-b border-gray-200 pb-6" data-v-95be508b><div class="flex flex-col gap-4" data-v-95be508b><div class="flex justify-between" data-v-95be508b><div class="h-6 w-1/4 bg-gray-200 rounded animate-pulse" data-v-95be508b></div><div class="h-6 w-32 bg-gray-200 rounded animate-pulse" data-v-95be508b></div></div><div class="flex justify-between" data-v-95be508b><div class="h-6 w-1/4 bg-gray-200 rounded animate-pulse" data-v-95be508b></div><div class="h-6 w-24 bg-gray-200 rounded animate-pulse" data-v-95be508b></div></div><div class="flex gap-4" data-v-95be508b><div class="h-12 w-full bg-gray-200 rounded-md animate-pulse" data-v-95be508b></div><div class="h-12 w-full bg-gray-200 rounded-md animate-pulse" data-v-95be508b></div></div></div></div>',1))])])])])):(c(),p("div",Pt,[w(a,{divider:">",links:D.value,class:"mb-6 text-blackcolor custom-breadcrumb text-2xl",ui:{base:"hover:underline",li:"text-sm font-normal text-gray-400",active:"text-customblack dark:text-primary-400 no-underline hover:no-underline",divider:{base:"px-2 text-text-gray-400 no-underline"}}},null,8,["links"]),e("div",{class:"text-gray-800",ref_key:"detailSectionRef",ref:ye},[e("div",Lt,[e("div",Ct,[e("div",It,[j.value?(c(),p("div",St,[e("img",{src:j.value,alt:"Shade sail",class:"rounded-xl shadow-lg w-full transition-all duration-300 w-full h-full object-cover"},null,8,Nt),e("div",{class:_(["main-button-prev absolute left-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":ee.value}]),onClick:Te},[e("div",jt,[w(u,{name:"i-raphael:arrowleft2",class:"text-primary w-6 h-6"})])],2),e("div",{class:_(["main-button-next absolute right-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":te.value}]),onClick:$e},[e("div",Et,[w(u,{name:"i-raphael:arrowright2",class:"text-primary w-6 h-6"})])],2)])):b("",!0),i.value.erpProduct.photoList.length>0?(c(),ie($(lt),{key:1,modules:[$(it)],navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"},"space-between":10,class:"w-full",breakpoints:{640:{slidesPerView:3,slidesPerGroup:3},768:{slidesPerView:4,slidesPerGroup:4},1024:{slidesPerView:5,slidesPerGroup:5}},onSwiper:Ee,onSlideChange:De,observer:!0,observeParents:!0,watchSlidesProgress:!0},{default:I(()=>[(c(!0),p(L,null,C(i.value.erpProduct.photoList,r=>(c(),ie($(we),{key:r.url},{default:I(()=>[e("img",{src:r.url,alt:"thumbnail",class:"w-full object-cover rounded-xl cursor-pointer hover:opacity-80",onClick:o=>j.value=r.url},null,8,Dt)]),_:2},1024))),128)),w($(we),null,{default:I(()=>[e("div",Tt,[e("video",$t,[e("source",{src:i.value.erpProduct.productVideoUrl,type:"video/mp4"},null,8,Bt)])])]),_:1}),e("div",{class:_(["custom-button-prev absolute left-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":ee.value}])},[e("div",Ft,[w(u,{name:"i-raphael:arrowleft2",class:"text-primary w-4 h-4"})])],2),e("div",{class:_(["custom-button-next absolute right-[5px] top-1/2 -translate-y-1/2 z-10 cursor-pointer",{"opacity-30 pointer-events-none":te.value}])},[e("div",Ut,[w(u,{name:"i-raphael:arrowright2",class:"text-primary w-4 h-4"})])],2)]),_:1},8,["modules"])):b("",!0)])]),e("div",Vt,[e("div",At,[e("h1",zt,x(i.value.erpProduct.productEnglishName),1)]),e("div",Mt,[e("div",Rt," $"+x(V.value),1)]),i.value.normalPropertyList?(c(),p("div",Ot,[(c(!0),p(L,null,C(i.value.normalPropertyList,(r,o)=>{var m;return c(),p("div",qt,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:l=>He(o)},[e("h2",Ht,[w(v,{color:"black",variant:"solid",class:"mr-3 w-6 h-6"},{default:I(()=>[B(x(o+1),1)]),_:2},1024),e("span",Jt,x(r.propertyNameShop),1),r.desc?(c(),ie($(pt),{key:0,color:"white",overlayInnerStyle:{color:"#333"},placement:"topLeft",title:r.desc,overlayStyle:{maxWidth:"330px",whiteSpace:"pre-line",wordBreak:"break-word"}},{default:I(()=>t[10]||(t[10]=[e("img",{src:at,class:"w-6 h-6 ml-2"},null,-1)])),_:2,__:[10]},1032,["title"])):b("",!0)]),e("div",Qt,[r.selectedproperty?(c(),p("span",Kt,x(r.isneedinput&&r.chooseindex==2?r.selectedproperty.inputvalue:r.selectedproperty.detailName),1)):b("",!0),w(u,{name:r.showType?"i-lucide-chevron-up":"i-lucide-chevron-down",class:"w-5 h-5 text-gray-500 font-medium transition-all duration-300"},null,8,["name"])])],8,Gt),e("div",{class:_(["transition-all duration-300 ease-in-out grid gap-4",r.showType?"max-h-[500px] mt-4":"overflow-hidden max-h-0",!r.isneedinput&&r.productPropertyDetailType!="text"?"grid-cols-6":""])},[!r.isneedinput&&r.productPropertyDetailType!="text"?(c(!0),p(L,{key:0},C(r.detailList,(l,n)=>(c(),p("div",{key:l,onClick:h=>G(o,l),class:_(["p-1 rounded-xl flex flex-col items-center transition-all",l.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"])},[l.imageLink?(c(),p("div",{key:0,class:_(["w-full aspect-square overflow-hidden",r.selectedproperty&&l.propertyDetailId===r.selectedproperty.propertyDetailId?"border border-primary":""])},[e("img",{src:l.imageLink,class:"w-full h-full object-contain"},null,8,Xt)],2)):b("",!0),e("div",{class:_(["py-2 w-full text-sm",["py-2 w-full",l.imageLink?"":"border border-customblack w-full rounded-md",!l.imageLink&&r.selectedproperty&&l.propertyDetailId===r.selectedproperty.propertyDetailId?"border border-primary w-full":""]])},[e("div",Yt,x(l.detailName),1)],2)],10,Wt))),128)):b("",!0),!r.isneedinput&&r.productPropertyDetailType=="text"?(c(),p("div",Zt,[(c(!0),p(L,null,C(r.detailList,(l,n)=>(c(),p("div",{key:l,onClick:h=>G(o,l),class:_(["p-2 rounded-xl flex flex-col items-center transition-all max-w-[33.3333%] min-w-[20%]",l.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"])},[l.imageLink?(c(),p("div",{key:0,class:_(["w-full aspect-square overflow-hidden",r.selectedproperty&&l.propertyDetailId===r.selectedproperty.propertyDetailId?"border border-primary":""])},[e("img",{src:l.imageLink,class:"w-full h-full object-cover"},null,8,ts)],2)):b("",!0),e("div",{class:_(["p-2 w-full text-sm",["py-2 w-full",l.imageLink?"":"border border-customblack w-full rounded-md",!l.imageLink&&r.selectedproperty&&l.propertyDetailId===r.selectedproperty.propertyDetailId?"border border-primary w-full":""]])},[e("div",ss,x(l.detailName),1)],2)],10,es))),128))])):b("",!0),r.isneedinput?(c(),p("div",rs,[e("div",ls,[e("div",os,[(c(!0),p(L,null,C(r.needinputlist.filter(l=>!l.disabled),(l,n)=>(c(),p("label",is,[e("div",as,[S(e("input",{type:"radio","onUpdate:modelValue":h=>r.chooseindex=h,value:n+2},null,8,ns),[[be,r.chooseindex]]),e("span",ds,x(l.detailName),1)]),(c(!0),p(L,null,C(l.inputList,(h,y)=>(c(),p("div",cs,[e("div",us,[e("label",ps,x(h),1),S(e("input",{type:"number","onUpdate:modelValue":T=>l.inputvalue[y]=T,onChange:T=>Me(r,n+2,o),class:"rounded p-1 text-sm w-28",min:0,max:100,step:"1"},null,40,ms),[[_e,l.inputvalue[y]]])])]))),256)),e("div",vs,x(se.value),1)]))),256)),r.noneedinputlist.length>0?(c(),p("div",fs,[e("label",hs,[S(e("input",{type:"radio","onUpdate:modelValue":l=>r.chooseindex=l,value:"1"},null,8,ys),[[be,r.chooseindex]]),t[11]||(t[11]=e("span",{class:"font-bold text-sm"},"Standard size:",-1))]),w($(ut),{value:(m=r.selectedproperty)==null?void 0:m.propertyDetailId,style:{width:"200px"},options:r.noneedinputlist,"field-names":{label:"detailName",value:"propertyDetailId"},placeholder:"Please select attributes","show-search":"","filter-option":qe,onChange:l=>ze(l,r,o),"option-label-prop":"label"},{option:I(({detailName:l,imageLink:n,disabled:h})=>[e("div",{class:_(["flex items-center gap-2",{"opacity-50":h}])},[n?(c(),p("img",{key:0,src:n,class:"w-6 h-6 mr-2"},null,8,gs)):b("",!0),e("span",null,x(l),1)],2)]),_:2},1032,["value","options","onChange"])])):b("",!0)])])])):b("",!0)],2)])}),256))])):b("",!0),S(e("div",xs,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:t[0]||(t[0]=r=>q.value=!q.value)},[e("h2",bs,[w(v,{color:"black",variant:"solid",class:"mr-3"},{default:I(()=>[B(x(i.value.normalPropertyList.length+1),1)]),_:1}),t[12]||(t[12]=B(" PRINT ON DEMAND "))]),w(u,{name:q.value?"i-lucide-chevron-up":"i-lucide-chevron-down",class:"w-5 h-5 text-gray-500 transition-all duration-300"},null,8,["name"])]),e("div",{class:_(["overflow-hidden transition-all duration-300 ease-in-out grid gap-4",q.value?"max-h-[500px] mt-4":"max-h-0"])},[e("div",_s,[e("div",ws,[e("p",ks,[(c(!0),p(L,null,C(i.value.printPropertyList,(r,o)=>(c(),p("span",null,x(r.value)+x(o<i.value.printPropertyList.length?",":""),1))),256))]),t[13]||(t[13]=e("div",{class:"text-primary border-b-2 w-fit border-primary py-1 font-semibold cursor-pointer"}," Design Now",-1))]),e("div",Ps,[S(e("img",{src:ne.value,alt:"Dimension guide",class:"rounded-xl border"},null,8,Ls),[[M,ne.value]])])])],2)],512),[[M,i.value.printPropertyList&&i.value.printPropertyList.length>0]]),e("div",Cs,[e("div",Is,[e("div",Ss,[t[15]||(t[15]=e("span",{class:"font-semibold text-base sm:text-lg"},"Quantity",-1)),e("div",Ns,[e("div",js,[e("button",{onClick:me,class:"text-gray-500 px-2 hover:text-black"},"−"),S(e("input",{onInput:Ue,"onUpdate:modelValue":t[1]||(t[1]=r=>k.value=r),class:"w-12 text-center outline-none border-0 py-1 bg-[#F8F8F8]"},null,544),[[_e,k.value]]),e("button",{onClick:pe,class:"text-gray-500 px-2 hover:text-black"},"+")]),t[14]||(t[14]=e("span",{class:"ml-2 text-base sm:text-lg"},"Panels",-1))])]),e("div",Es,[t[16]||(t[16]=e("span",{class:"font-semibold text-base sm:text-lg"},"Total price",-1)),e("div",Ds,[e("span",Ts,"$"+x(ce.value.toFixed(2)),1)])]),e("div",$s,[w(f,{class:"w-full sm:flex-1 flex items-center justify-center bg-primary-100 rounded-md text-primary font-normal hover:text-white",loading:Y.value,onClick:fe,color:"primary",variant:"solid",size:"xl"},{default:I(()=>t[17]||(t[17]=[B(" Add to Cart ")])),_:1,__:[17]},8,["loading"]),w(f,{class:"w-full sm:flex-1 flex items-center justify-center rounded-md text-white font-normal",color:"primary",variant:"solid",size:"xl",loading:Z.value,onClick:Ve},{default:I(()=>t[18]||(t[18]=[B(" Order Now ")])),_:1,__:[18]},8,["loading"])])])])])])],512),e("div",Bs,[e("div",Fs,[e("div",Us,[e("div",Vs,[i.value.erpProduct.remarks?(c(),p("div",As,[e("div",{class:_(["inline-block p-4 rounded-xl rounded-b-none cursor-pointer text-center text-sm sm:text-base",{"border-b-2 border-black font-semibold":A.value===1}]),onClick:t[2]||(t[2]=r=>ue(1))}," Basic Information ",2)])):b("",!0),i.value.printPropertyList.length>0?(c(),p("div",zs,[e("div",{class:_(["inline-block p-4 rounded-xl rounded-b-none cursor-pointer text-center text-sm sm:text-base",{"border-b-2 border-black font-semibold":A.value===2}]),onClick:t[3]||(t[3]=r=>ue(2))}," Print Information ",2)])):b("",!0)])]),S(e("div",Ms,[e("div",{class:"overflow-hidden",innerHTML:i.value.erpProduct.remarks},null,8,Rs)],512),[[M,A.value==1&&i.value.erpProduct.remarks]]),S(e("div",Os,[(c(!0),p(L,null,C(i.value.printPropertyList,r=>(c(),p("div",qs,[e("span",Gs,x(r.value),1)]))),256))],512),[[M,A.value==2&&i.value.printPropertyList>0]])])]),re.value.length>0?(c(),p("div",Hs,[t[19]||(t[19]=e("h1",{class:"text-lg font-normal mb-8"},"Recommended products",-1)),e("div",Js,[(c(!0),p(L,null,C(re.value,(r,o)=>(c(),p("div",{key:o,onClick:m=>Ge(r.id,r.erpProduct.productEnglishName),class:"product-card rounded-lg transition-transform duration-300 ease-in-out hover:scale-105 cursor-pointer"},[e("div",Ks,[e("img",{src:r.erpProduct.mainPic??"/images/empty.jpg",alt:r.erpProduct.productEnglishName,class:"w-full h-full object-cover object-top rounded-sm"},null,8,Ws)]),e("div",Xs,[e("h3",Ys,x(r.erpProduct.productEnglishName),1),e("p",Zs,"$"+x(r.erpProduct.customPrice.toFixed(2)),1)])],8,Qs))),128))])])):b("",!0)])),w(d),S(e("div",{ref_key:"bottomBarRef",ref:oe,class:_(["flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 py-4 px-8 bg-white rounded-md shadow-lg sticky bottom-0 transition-all duration-300 ease-in-out",{"opacity-100 translate-y-0 pointer-events-auto":!K.value,"opacity-0 translate-y-8 pointer-events-none":K.value}])},[e("div",null,[e("h2",er,x(i.value.erpProduct.productEnglishName),1),t[20]||(t[20]=e("p",{class:"text-sm text-gray-500"},"Ordinary type sail / Rectangle",-1))]),e("div",tr,[e("div",sr,[e("button",{class:"text-gray-500 hover:text-gray-700",onClick:me},"-"),e("span",rr,x(k.value),1),e("button",{class:"text-gray-500 hover:text-gray-700",onClick:pe},"+")]),t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"Panels",-1)),e("span",lr,"$"+x(ce.value.toFixed(2)),1),w(f,{color:"primary",size:"md",onClick:fe,class:"rounded-lg"},{default:I(()=>t[21]||(t[21]=[B(" Add to Cart ")])),_:1,__:[21]})])],2),[[M,Je.value&&!F.value]])])}}},_r=Ke(or,[["__scopeId","data-v-95be508b"]]);export{_r as default};
