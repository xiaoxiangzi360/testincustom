import{t as w,c as m,w as p,h as g}from"./BvE5FjrA.js";import{o as E}from"./BOho523-.js";import{a7 as f,c as L,r as y}from"./kSsZQJMu.js";function h(){let o=[],r={addEventListener(e,t,i,n){return e.addEventListener(t,i,n),r.add(()=>e.removeEventListener(t,i,n))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){r.requestAnimationFrame(()=>{r.requestAnimationFrame(...e)})},setTimeout(...e){let t=setTimeout(...e);r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return w(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,i){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:i}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=h();return e(t),this.add(()=>t.dispose())},add(e){return o.push(e),()=>{let t=o.indexOf(e);if(t>=0)for(let i of o.splice(t,1))i()}},dispose(){for(let e of o.splice(0))e()}};return r}function b(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function A(){return/Android/gi.test(window.navigator.userAgent)}function T(){return b()||A()}function l(o,r,e){m.isServer||f(t=>{document.addEventListener(o,r,e),t(()=>document.removeEventListener(o,r,e))})}function F(o,r,e){m.isServer||f(t=>{window.addEventListener(o,r,e),t(()=>window.removeEventListener(o,r,e))})}function O(o,r,e=L(()=>!0)){function t(n,d){if(!e.value||n.defaultPrevented)return;let a=d(n);if(a===null||!a.getRootNode().contains(a))return;let v=function s(u){return typeof u=="function"?s(u()):Array.isArray(u)||u instanceof Set?u:[u]}(o);for(let s of v){if(s===null)continue;let u=s instanceof HTMLElement?s:E(s);if(u!=null&&u.contains(a)||n.composed&&n.composedPath().includes(u))return}return!p(a,g.Loose)&&a.tabIndex!==-1&&n.preventDefault(),r(n,a)}let i=y(null);l("pointerdown",n=>{var d,a;e.value&&(i.value=((a=(d=n.composedPath)==null?void 0:d.call(n))==null?void 0:a[0])||n.target)},!0),l("mousedown",n=>{var d,a;e.value&&(i.value=((a=(d=n.composedPath)==null?void 0:d.call(n))==null?void 0:a[0])||n.target)},!0),l("click",n=>{T()||i.value&&(t(n,()=>i.value),i.value=null)},!0),l("touchend",n=>t(n,()=>n.target instanceof HTMLElement?n.target:null),!0),F("blur",n=>t(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function M(o){function r(){document.readyState!=="loading"&&(o(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let c=[];M(()=>{function o(r){r.target instanceof HTMLElement&&r.target!==document.body&&c[0]!==r.target&&(c.unshift(r.target),c=c.filter(e=>e!=null&&e.isConnected),c.splice(10))}window.addEventListener("click",o,{capture:!0}),window.addEventListener("mousedown",o,{capture:!0}),window.addEventListener("focus",o,{capture:!0}),document.body.addEventListener("click",o,{capture:!0}),document.body.addEventListener("mousedown",o,{capture:!0}),document.body.addEventListener("focus",o,{capture:!0})});export{b as a,O as b,T as n,h as o,c as t,F as w};
